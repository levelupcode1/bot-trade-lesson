### 5차시: 변동성 돌파 전략 (Volatility Breakout)

## 📚 학습 목표

- 변동성 돌파 전략의 핵심 개념 이해
- 전일 변동폭(R) 기반 돌파가 계산과 진입/청산 규칙 설계
- 변동성·거래량·시간대 필터를 이용한 가짜 돌파 감소 기법
- 리스크 관리(포지션 사이징, 손절·익절, 트레일링) 원칙 정립

## 📁 파일 구조

- **`lesson-05-prompts.md`**: 5차시 프롬프트 원문
- **`volatility_breakout_strategy_v2.py`**: 변동성 돌파 전략 구현 코드
- **`requirements.txt`**: 필요한 Python 패키지 목록
- **`README.md`**: 강의 요약 및 실행 가이드(현재 파일)

## 🎯 주요 학습 내용

### 1) 전략 핵심 개념
- 전일 변동폭 R = 전일 고가 − 전일 저가
- 매수 돌파가 = 당일 시가 + K×R, 매도 돌파가 = 당일 시가 − K×R (K≈0.3~0.7)
- 돌파가 상·하향 돌파 시 추세 초입에 진입하는 추세 추종형 전략

### 2) 돌파 시점 포착 방법
- 변동성 필터: 전일 R이 최근 N일 평균 대비 큰 날만 거래 또는 ATR 상위 분위수
- 시간대 필터: 유동성 높은 구간 중심(예: 주요 시장 오픈 전후)
- 확인 조건: 1~5분봉 종가가 돌파가 위/아래에서 마감 시 체결
- 거래량 확인, 스프레드/슬리피지 점검, 이벤트 직후 쿨다운

### 3) 매수/매도 조건 예시
- 매수: 돌파가 상향 돌파 + 확인 캔들 마감 → 진입
- 매도: 돌파가 하향 돌파 + 확인 캔들 마감 → 진입
- 손절: 진입가 대비 0.5~1.0×R 또는 ATR×계수
- 청산: 목표가(0.5~1.0×R), 시간 청산(당일 종가), 트레일링 스탑

### 4) 수치 예시
- 전일 고가 62,000, 저가 60,000 → R=2,000
- 당일 시가 61,000, K=0.5 → 매수 62,000 / 매도 60,000

## 🚀 실행/적용 가이드

### 코드 실행 방법

1) **환경 설정**:
   ```bash
   pip install -r requirements.txt
   ```

2) **전략 실행**:
   ```bash
   python volatility_breakout_strategy_v2.py
   ```

3) **전략 파라미터 조정**:
   - `initial_capital`: 초기 자본금 (기본: 1,000,000원)
   - `position_size_ratio`: 포지션 크기 비율 (기본: 5%)
   - `days`: 백테스트 기간 (기본: 90일)

### 전략 특징

- **돌파선 계산**: 전일 고가 + (전일 고가 - 전일 저가) × 0.5
- **매수 조건**: 현재가가 돌파선을 위로 넘을 때
- **매도 조건**: 
  - 익절: +3% 수익률 달성
  - 손절: -2% 손실률 달성
  - 시간 손절: 24시간 보유 후 강제 청산
- **포지션 크기**: 자본의 5%로 제한

### 백테스트 결과

- 가격 차트와 거래 포인트 시각화
- 거래별 수익률 분석
- 승률, 평균 수익률 등 성과 지표 제공
- 상세한 거래 내역 로그

## ⚠️ 주의사항

- 교육 목적 자료이며, 실거래 전 충분한 테스트가 필요합니다.
- 수수료·슬리피지는 기대수익률에 큰 영향을 미치므로 보정 필수입니다.
- 과최적화 방지를 위해 단순하고 일관된 규칙과 롤링 검증을 권장합니다.

자세한 프롬프트 원문은 `lesson-05-prompts.md`를 참조하세요.


